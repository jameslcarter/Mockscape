version: 1.0.{build}
pull_requests:
  do_not_increment_build_number: true
skip_non_tags: true
image: Visual Studio 2019
configuration: Release
dotnet_csproj:
  patch: true
  file: '**\*.csproj'
  version: '{version}'
  package_version: '{version}'
  assembly_version: '{version}'
  file_version: '{version}'
  informational_version: '{version}'
build_script:
- cmd: >-
    dotnet --version

    dotnet restore ./src/Mockaco/Mockaco.csproj --verbosity m

    dotnet publish ./src/Mockaco/Mockaco.csproj
deploy:
- provider: GitHub
  tag: v$(appveyor_build_version)
  auth_token:
    secure: WfhJkLdU9cicGr6Ar8OP0k3X4enUDmP1PmyAsbzcAEjrQ3JQzu3bWC3BTldO5DXn
  artifact: Mockaco Web Site
  draft: false